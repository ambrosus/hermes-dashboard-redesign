{"ast":null,"code":"var _jsxFileName = \"/Users/melnychenkovadim/WebstormProjects/dashboard-redisgn/hermes-dashboard-redesign/src/pages/SignUp/Request/Request.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport AuthInput from '../../../components/auth/AuthInput';\nimport AuthTextarea from '../../../components/auth/AuthTextarea';\nimport AuthCheckbox from '../../../components/auth/AuthCheckbox';\nimport AuthButton from '../../../components/auth/AuthButton';\nimport successImg from \"../../../assets/raster/success.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Request = () => {\n  _s();\n\n  const history = useHistory();\n  const address = useSelector(state => state.auth.etherAddress.publicKey);\n\n  if (!address) {\n    history.push('/dashboard/signup');\n  }\n\n  const [isRegisterSuccess, setIsRegisterSuccess] = useState(false);\n  const [isSubmitDisabled, setIsSubmitDisabled] = useState(true);\n  const [emailError, setEmailError] = useState('');\n  const [checkboxValue, setCheckboxValue] = useState(false);\n  const [formData, setFormData] = useState({\n    email: '',\n    message: '',\n    title: '',\n    address\n  });\n  useEffect(() => {\n    const {\n      email,\n      message,\n      title\n    } = formData;\n    setIsSubmitDisabled(!email || !message || !title || !checkboxValue || !!emailError);\n  }, [formData, checkboxValue]);\n\n  const signUp = e => {\n    e.preventDefault();\n    axios.post('https://vitalii427-hermes.ambrosus-test.io/organization/request', formData).then(({\n      data\n    }) => {\n      if (data.meta && data.meta.code === 201) {\n        setIsRegisterSuccess(true);\n      }\n    });\n  };\n\n  const handleCheckbox = () => setCheckboxValue(!checkboxValue);\n\n  const handleOrganization = title => setFormData({ ...formData,\n    title\n  });\n\n  const handleMessage = message => setFormData({ ...formData,\n    message\n  });\n\n  const handleEmail = email => {\n    setFormData({ ...formData,\n      email\n    });\n    const mailFormat = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    setEmailError(!email.match(mailFormat) ? 'Email is invalid' : '');\n  };\n\n  return isRegisterSuccess ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"success-registration\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"success-registration__img\",\n      src: successImg,\n      alt: \"success\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Thank you!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Your application has been successfully submitted for approval.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), \"Once reviewed, we will send you an email with further instructions.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-request\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Almost done\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"For better customer experience please share a few more details.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"auth-request__form\",\n      onSubmit: signUp,\n      children: [/*#__PURE__*/_jsxDEV(AuthInput, {\n        onChange: handleOrganization,\n        label: \"organization name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthInput, {\n        errorMessage: emailError,\n        onChange: handleEmail,\n        label: \"your email*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthTextarea, {\n        onChange: handleMessage,\n        label: \"What makes you interested in our solution? *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthCheckbox, {\n        onChange: handleCheckbox,\n        checked: checkboxValue,\n        className: \"auth-request__checkbox\",\n        label: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [\"I`ve read\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            className: \"auth-page__link\",\n            children: \"Terms of Service\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthButton, {\n        type: \"submit\",\n        className: \"auth-request__submit\",\n        disabled: isSubmitDisabled,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Request, \"lO2RlKAt/HIBv3vELbdQ7eUv5go=\", false, function () {\n  return [useHistory, useSelector];\n});\n\n_c = Request;\nexport default Request;\n\nvar _c;\n\n$RefreshReg$(_c, \"Request\");","map":{"version":3,"sources":["/Users/melnychenkovadim/WebstormProjects/dashboard-redisgn/hermes-dashboard-redesign/src/pages/SignUp/Request/Request.js"],"names":["React","useEffect","useState","axios","useSelector","useHistory","AuthInput","AuthTextarea","AuthCheckbox","AuthButton","Request","history","address","state","auth","etherAddress","publicKey","push","isRegisterSuccess","setIsRegisterSuccess","isSubmitDisabled","setIsSubmitDisabled","emailError","setEmailError","checkboxValue","setCheckboxValue","formData","setFormData","email","message","title","signUp","e","preventDefault","post","then","data","meta","code","handleCheckbox","handleOrganization","handleMessage","handleEmail","mailFormat","match","successImg"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,SAAP,MAAsB,oCAAtB;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;;;;;AAGA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AACA,QAAMO,OAAO,GAAGR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWC,YAAX,CAAwBC,SAApC,CAA3B;;AAEA,MAAI,CAACJ,OAAL,EAAc;AACZD,IAAAA,OAAO,CAACM,IAAR,CAAa,mBAAb;AACD;;AACD,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4CjB,QAAQ,CAAC,KAAD,CAA1D;AACA,QAAM,CAACkB,gBAAD,EAAmBC,mBAAnB,IAA0CnB,QAAQ,CAAC,IAAD,CAAxD;AACA,QAAM,CAACoB,UAAD,EAAaC,aAAb,IAA8BrB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACsB,aAAD,EAAgBC,gBAAhB,IAAoCvB,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACwB,QAAD,EAAWC,WAAX,IAA0BzB,QAAQ,CAAC;AACvC0B,IAAAA,KAAK,EAAE,EADgC;AAEvCC,IAAAA,OAAO,EAAE,EAF8B;AAGvCC,IAAAA,KAAK,EAAE,EAHgC;AAIvClB,IAAAA;AAJuC,GAAD,CAAxC;AAOAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAAE2B,MAAAA,KAAF;AAASC,MAAAA,OAAT;AAAkBC,MAAAA;AAAlB,QAA4BJ,QAAlC;AAEAL,IAAAA,mBAAmB,CACjB,CAACO,KAAD,IAAU,CAACC,OAAX,IAAsB,CAACC,KAAvB,IAAgC,CAACN,aAAjC,IAAkD,CAAC,CAACF,UADnC,CAAnB;AAGD,GANQ,EAMN,CAACI,QAAD,EAAWF,aAAX,CANM,CAAT;;AAQA,QAAMO,MAAM,GAAIC,CAAD,IAAO;AACpBA,IAAAA,CAAC,CAACC,cAAF;AAEA9B,IAAAA,KAAK,CACF+B,IADH,CAEI,iEAFJ,EAGIR,QAHJ,EAKGS,IALH,CAKQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AAClB,UAAIA,IAAI,CAACC,IAAL,IAAaD,IAAI,CAACC,IAAL,CAAUC,IAAV,KAAmB,GAApC,EAAyC;AACvCnB,QAAAA,oBAAoB,CAAC,IAAD,CAApB;AACD;AACF,KATH;AAUD,GAbD;;AAeA,QAAMoB,cAAc,GAAG,MAAMd,gBAAgB,CAAC,CAACD,aAAF,CAA7C;;AACA,QAAMgB,kBAAkB,GAAIV,KAAD,IAAWH,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAeI,IAAAA;AAAf,GAAD,CAAjD;;AACA,QAAMW,aAAa,GAAIZ,OAAD,IAAaF,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAeG,IAAAA;AAAf,GAAD,CAA9C;;AACA,QAAMa,WAAW,GAAId,KAAD,IAAW;AAC7BD,IAAAA,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAeE,MAAAA;AAAf,KAAD,CAAX;AAEA,UAAMe,UAAU,GAAG,6CAAnB;AACApB,IAAAA,aAAa,CAAC,CAACK,KAAK,CAACgB,KAAN,CAAYD,UAAZ,CAAD,GAA2B,kBAA3B,GAAgD,EAAjD,CAAb;AACD,GALD;;AAOA,SAAOzB,iBAAiB,gBACtB;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA,4BACE;AACE,MAAA,SAAS,EAAC,2BADZ;AAEE,MAAA,GAAG,EAAE2B,UAFP;AAGE,MAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,YADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,eAOE;AAAA,gGAEE;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADsB,gBAetB;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAM,MAAA,SAAS,EAAC,oBAAhB;AAAqC,MAAA,QAAQ,EAAEd,MAA/C;AAAA,8BACE,QAAC,SAAD;AAAW,QAAA,QAAQ,EAAES,kBAArB;AAAyC,QAAA,KAAK,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,SAAD;AACE,QAAA,YAAY,EAAElB,UADhB;AAEE,QAAA,QAAQ,EAAEoB,WAFZ;AAGE,QAAA,KAAK,EAAC;AAHR;AAAA;AAAA;AAAA;AAAA,cAFF,eAOE,QAAC,YAAD;AACE,QAAA,QAAQ,EAAED,aADZ;AAEE,QAAA,KAAK,EAAC;AAFR;AAAA;AAAA;AAAA;AAAA,cAPF,eAWE,QAAC,YAAD;AACE,QAAA,QAAQ,EAAEF,cADZ;AAEE,QAAA,OAAO,EAAEf,aAFX;AAGE,QAAA,SAAS,EAAC,wBAHZ;AAIE,QAAA,KAAK,eACH;AAAA,kCACY,GADZ,eAEE;AAAG,YAAA,IAAI,EAAC,GAAR;AAAY,YAAA,SAAS,EAAC,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,cAXF,eAwBE,QAAC,UAAD;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,sBAFZ;AAGE,QAAA,QAAQ,EAAEJ,gBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UAfF;AAoDD,CAvGD;;GAAMV,O;UACYL,U,EACAD,W;;;KAFZM,O;AAyGN,eAAeA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport AuthInput from '../../../components/auth/AuthInput';\nimport AuthTextarea from '../../../components/auth/AuthTextarea';\nimport AuthCheckbox from '../../../components/auth/AuthCheckbox';\nimport AuthButton from '../../../components/auth/AuthButton';\nimport successImg from '../../../assets/raster/success.svg';\n\nconst Request = () => {\n  const history = useHistory();\n  const address = useSelector((state) => state.auth.etherAddress.publicKey);\n\n  if (!address) {\n    history.push('/dashboard/signup');\n  }\n  const [isRegisterSuccess, setIsRegisterSuccess] = useState(false);\n  const [isSubmitDisabled, setIsSubmitDisabled] = useState(true);\n  const [emailError, setEmailError] = useState('');\n  const [checkboxValue, setCheckboxValue] = useState(false);\n  const [formData, setFormData] = useState({\n    email: '',\n    message: '',\n    title: '',\n    address,\n  });\n\n  useEffect(() => {\n    const { email, message, title } = formData;\n\n    setIsSubmitDisabled(\n      !email || !message || !title || !checkboxValue || !!emailError,\n    );\n  }, [formData, checkboxValue]);\n\n  const signUp = (e) => {\n    e.preventDefault();\n\n    axios\n      .post(\n        'https://vitalii427-hermes.ambrosus-test.io/organization/request',\n        formData,\n      )\n      .then(({ data }) => {\n        if (data.meta && data.meta.code === 201) {\n          setIsRegisterSuccess(true);\n        }\n      });\n  };\n\n  const handleCheckbox = () => setCheckboxValue(!checkboxValue);\n  const handleOrganization = (title) => setFormData({ ...formData, title });\n  const handleMessage = (message) => setFormData({ ...formData, message });\n  const handleEmail = (email) => {\n    setFormData({ ...formData, email });\n\n    const mailFormat = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    setEmailError(!email.match(mailFormat) ? 'Email is invalid' : '');\n  };\n\n  return isRegisterSuccess ? (\n    <div className=\"success-registration\">\n      <img\n        className=\"success-registration__img\"\n        src={successImg}\n        alt=\"success\"\n      />\n      <h1>Thank you!</h1>\n      <p>\n        Your application has been successfully submitted for approval.\n        <br />\n        Once reviewed, we will send you an email with further instructions.\n      </p>\n    </div>\n  ) : (\n    <div className=\"auth-request\">\n      <h1>Almost done</h1>\n      <p>For better customer experience please share a few more details.</p>\n      <form className=\"auth-request__form\" onSubmit={signUp}>\n        <AuthInput onChange={handleOrganization} label=\"organization name\" />\n        <AuthInput\n          errorMessage={emailError}\n          onChange={handleEmail}\n          label=\"your email*\"\n        />\n        <AuthTextarea\n          onChange={handleMessage}\n          label=\"What makes you interested in our solution? *\"\n        />\n        <AuthCheckbox\n          onChange={handleCheckbox}\n          checked={checkboxValue}\n          className=\"auth-request__checkbox\"\n          label={\n            <>\n              I`ve read{' '}\n              <a href=\"/\" className=\"auth-page__link\">\n                Terms of Service\n              </a>\n            </>\n          }\n        />\n        <AuthButton\n          type=\"submit\"\n          className=\"auth-request__submit\"\n          disabled={isSubmitDisabled}\n        >\n          Register\n        </AuthButton>\n      </form>\n    </div>\n  );\n};\n\nexport default Request;\n"]},"metadata":{},"sourceType":"module"}